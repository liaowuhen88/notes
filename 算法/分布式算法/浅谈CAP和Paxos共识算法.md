### 什么是 CAP

![Image text](img/1587608618.jpg)

关于 CAP 理论的背景介绍已经很多，这里不过多介绍，我们谈谈如何理解它的问题。

### 用通俗易懂的话解释三个名词：

* 一致性

  如果刚刚向一个节点写入，那么之后，从另外一个节点读取的必须是刚刚写入的数据，不能是更老的数据。

* 可用性

  如果请求一个节点，这个节点必须能够给予回复，如果节点挂掉了，那就谈不上可用性了。

* 分区容忍性

  是否容忍网络分区，即可以允许节点和其它节点无法通信。

**CAP 的意思就是说我们最多只能保证其中两个条件同时成立。**

下面我们来看看为什么。

![Image text](img/1587608754.jpg)

如图所示，假如我们满足了分区容忍性，即虚线处表示两个节点发生了分区。

* 1.假如要满足一致性，
    那么，我们只能让请求另一个节点的操作暂时 hang 住，返回 client 失败或者超时的结果，这种情况多发生在银行柜台等对数据一致性要求很高的情境下，因为比起保证用户资金数目的正确性比暂时让用户无法操作要更重要一些。

* 2.假如要满足可用性，
    因为网络已经隔离，也就没办法达到一致性，这种情况多发生在互联网行业中，比如新闻等对数据一致性要求不高但对可用性要求高的情况下，毕竟，用户压根看不了新闻比看不到及时新闻要重要的多。
